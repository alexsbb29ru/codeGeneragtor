<html>

<head>
  <meta charset="UTF-8" lang="ru">
  <title>Генератор штрих-кода</title>
  <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.css" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="stylesheet" href="./css/customBtn.css" />
  <link rel="stylesheet" href="./css/customTitlebar.css" />
  <link rel="stylesheet" id="colorTheme" href="./css/darkTheme.css" />
</head>

<body class="darkBody">
  <!--Первоначальная инициализация модулей-->
  <!-- <script src="~/lib/jquery/dist/jquery.min.js" onload="window.$ = window.jQuery = module.exports;"></script> -->
  <script>window.jQuery = window.$ = require('jquery')</script>
  <script src="./node_modules/popper.js/dist/umd/popper.js"></script>
  <script src="./node_modules/bootstrap/dist/js/bootstrap.js"></script>
  <!--Header block with custom titlebar-->
  <header id="titlebar">
    <div id="windowTitle">
      
    </div>
    <div id="windowControls">
      <div class="button" id="min-button">
        <img class="icon" srcset="images/icons/min-w-10.png 1x, images/icons/min-w-12.png 1.25x, images/icons/min-w-15.png 1.5x, images/icons/min-w-15.png 1.75x, images/icons/min-w-20.png 2x, images/icons/min-w-20.png 2.25x, images/icons/min-w-24.png 2.5x, images/icons/min-w-30.png 3x, images/icons/min-w-30.png 3.5x" draggable="false" />
      </div>

      <div class="button" id="max-button">
        <img class="icon" srcset="images/icons/max-w-10.png 1x, images/icons/max-w-12.png 1.25x, images/icons/max-w-15.png 1.5x, images/icons/max-w-15.png 1.75x, images/icons/max-w-20.png 2x, images/icons/max-w-20.png 2.25x, images/icons/max-w-24.png 2.5x, images/icons/max-w-30.png 3x, images/icons/max-w-30.png 3.5x" draggable="false" />
      </div>

      <div class="button" id="restore-button">
        <img class="icon" srcset="images/icons/restore-w-10.png 1x, images/icons/restore-w-12.png 1.25x, images/icons/restore-w-15.png 1.5x, images/icons/restore-w-15.png 1.75x, images/icons/restore-w-20.png 2x, images/icons/restore-w-20.png 2.25x, images/icons/restore-w-24.png 2.5x, images/icons/restore-w-30.png 3x, images/icons/restore-w-30.png 3.5x" draggable="false" />
      </div>

      <div class="button" id="close-button">
        <img class="icon" srcset="images/icons/close-w-10.png 1x, images/icons/close-w-12.png 1.25x, images/icons/close-w-15.png 1.5x, images/icons/close-w-15.png 1.75x, images/icons/close-w-20.png 2x, images/icons/close-w-20.png 2.25x, images/icons/close-w-24.png 2.5x, images/icons/close-w-30.png 3x, images/icons/close-w-30.png 3.5x" draggable="false" />
      </div>
    </div>
  </header>
  <main>
    <!-- Модалка с настройками -->
    <div class="modal fade" id="settingsModal" tabindex="-1" role="dialog" aria-labelledby="settingsModal"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="settingsModalTitle">Настройки</h5>
            <button type="button" class="close" id="closeSettingslBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="settingsModalBody">

          </div>
        </div>
      </div>
    </div>

    <!-- Модалка о приложении -->
    <div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="contactModal"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="contactModalTitle">О приложении</h5>
            <button type="button" class="close" id="closeContactlBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="contactModalBody">
            <table class="table table-sm table-borderless contact-table">
              <tr>
                <td id="logoBlockContact">
                  <img src="images/barcode.png">
                </td>
              </tr>
              <tr>
                <td id="appNameContact"></td>
              </tr>
              <tr>
                <td id="desctiptionContact"></td>
              </tr>
              <tr>
                <td id="versionContact"></td>
              </tr>
              <tr>
                <td id="copyrightContact"></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Модалка с историей текстов -->
    <div class="modal fade" id="historyModal" tabindex="-1" role="dialog" aria-labelledby="historyModal"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="historyModalTitle">История</h5>
            <button type="button" class="close" id="closeHistorylBtn" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body" id="historyModalBody">
            <ul class="list-group list-group-flush" id="historyListModal">

            </ul>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn c-btn-outline-danger" id="clearHistBtn">Очистить</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Модалка написания имени файла для сохранения .png -->
    <div class="modal fade" id="qrCodeNameModal" tabindex="-1" role="dialog" aria-labelledby="qrCodeNameModal"
      aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="qrCodeNameModalTitle">Введите имя файла без расширения</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <input class="form-control" id="fileNameInput" type="text" placeholder="Введите имя файла">
            <span id="saveFolderPath"></span>
          </div>
          <div class="modal-footer">
            <button type="button" id="denyFileName" class="btn btn-secondary" data-dismiss="modal">Отмена</button>
            <button type="button" id="confirmFileName" class="btn btn-primary">ОК</button>
          </div>
        </div>
      </div>
    </div>

    <!--Общий контейнер-->
    <div class="main-grid-container">
      <!--Левый блок с кнопками-->
      <div class="grid-left-side">

        <!--Кнопка настроек-->
        <div class="left-side-button settingsButton">
          <button type="button" id="settingsButton" class="c-btn" title="Настройки">
            <span>&#9874;</span>
          </button>
        </div>
        <!--Кнопка истории-->
        <div class="left-side-button historyButton">
          <button type="button" id="historyButton" class="c-btn" title="История">
            <span>&#9997;</span>
          </button>
        </div>
        <!--Кнопка о приложении-->
        <div class="left-side-button contactButton">
          <button type="button" id="contactButton" class="c-btn side-buttons" title="О приложении">
            <span>&#9875;</span>
          </button>
        </div>
      </div>

      <!--Центральный блок с элементами для генерации кодов-->
      <div class="grid-container">
        <!--Select с выбором типа генерируемого кода-->
        <div class="grid-item grid-bar-types">
          <div class="form-group">
            <select class="form-control" id="barcodeTypesSelect">
              <option></option>
            </select>
          </div>
        </div>

        <!--Grid с сохраненными текстами и кнопкой удаления-->
        <div class="grid-item grid-fav">
          <!--Сохраненные тексты-->
          <div class="form-group">
            <select class="form-control" id="savedCodesSelect">
              <option></option>
            </select>
          </div>

          <!--Кнопка удаления сохраненных кодов-->
          <div class="fav-del-btn">
            <button type="button" id="removeSavedQrBtn" class="btn c-btn-outline-danger"
              title="Удалить сохраненный QR-код из избранного">
              <span>&#9940;</span>
            </button>
          </div>
        </div>

        <!--Grid с блоком ввода текста для генерации-->
        <div class="grid-item grid-text-block">
          <div class="form-group">
            <textarea class="form-control" id="qrTextForm" rows="5" placeholder="Введите текст:"></textarea>
          </div>
        </div>

        <!--Block with canvas which show our converted text-->
        <div class="grid-item grid-draw-block">
          <div class="canvasContainer rounded">
            <div class="centeredChild">
              <!-- <canvas id="qrOutput"></canvas> -->
              <img id="qrOutput">
            </div>
          </div>
        </div>

        <!--Блок с выводом количества введенных символов-->
        <div class="grid-item symb-count" id="symbolCount">
        </div>

        <!--Блок с кнопками в левой части-->
        <div class="grid-item leftFooter">
          <!--Кнопка генерации ШК-->
          <div class="left-footer-gen-btn">
            <button type="button" id="genQrButton" class="btn c-btn-outline-primary">Сгенерировать</button>
          </div>
          <!--Кнопка сохранения ШК в избранное-->
          <div class="left-footer-save-btn">
            <button type="button" id="saveQrTextButton" class="btn c-btn-outline-success"
              title="Сохранить QR-код в избранное">
              <span>&#10004;</span>
            </button>
          </div>
        </div>

        <!--Блок с кнопками в правой части-->
        <div class="grid-item rightFooter">
          <!--Кнопка сохранения ШК как изображение на комп-->
          <div>
            <a href="#" id="saveQrImgButton" class="btn c-btn-outline-success">Сохранить</a>
          </div>
        </div>
        <!--Блок с высплывающим сообщением-->
        <div class="alert alert-primary grid-alert" id="successAlert" role="alert">
          <p id="alertText"></p>
        </div>
      </div>
    </div>
  </main>
  <script>
    $(document).ready(function () {
      $('[data-toggle=tooltip]').tooltip()
    });
    require('./scripts/indexController.js')
    require('./scripts/settingsController.js')
    require('./scripts/historyController.js')
    require('./scripts/contactController.js')
    require('./scripts/customTitlebarController.js')
  </script>
</body>

</html>